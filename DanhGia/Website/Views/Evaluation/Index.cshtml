@using WebsiteBlazor.Views.Components
@{
    ViewData["Title"] = "Thuật toán";
}

<component type="typeof(Evaluation)" render-mode="ServerPrerendered" />

@section Scripts{
    <!--Minh họa gọi JS từ C#-->
    <script src="~/js/site.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script>
        function Chay() {
            //Chọn dữ liệu
            var dulieu_select = document.getElementById("dulieu").value;
            var url = null
            if (dulieu_select == 1) {
                url = 'dulieuchuoi/mangchuoi113kb.txt'
            }
            if (dulieu_select == 2) {
                url = 'dulieuchuoi/mangchuoi3mb.txt'
            }
            if (dulieu_select == 3) {
                url = 'dulieuso/data_s.txt'
            }
            if (dulieu_select == 4) {
                url = 'dulieuso/data_m.txt'
            }
            if (dulieu_select == 5) {
                url = 'dulieuso/data_xl.txt'
            }

            fetch('https://localhost:44328/api/DocFile/' + url).then(rs => {
                return rs.text()
            }).then(rs => {

                var arr = rs.split("\n");
                var arr_so = arr.map((item) => parseInt(item));

                // Chọn thuật toán
                var thuattoan_select = document.getElementById("thuattoan").value;
                if (thuattoan_select == 1) {
                    var time_bbsort = execution_time(function () {
                        bblSort(arr_so);
                    });
                    console.log("Thời gian chạy Bubble Sort JS là: " + time_bbsort + " ms") //ms
                }
                if (thuattoan_select == 2) {
                    var time_slsort = execution_time(function () {
                        selectionSort(arr_so);
                    });
                    console.log("Thời gian chạy Selection Sort JS là: " + time_slsort + " ms") //ms
                }
                if (thuattoan_select == 3) {
                    var time_InsertionSort = execution_time(function () {
                        insertionSort(arr_so);
                    });
                    console.log("Thời gian chạy Insertion Sort JS là: " + time_InsertionSort + " ms") //ms
                }
            });
        }

        window.ShowAlert = (message) => {
            alert(message);
        }

        window.ShowLog = (message) => {
            console.log(message);
        }

    </script>
}